import { Meta, Preview, Props, Story } from '@storybook/addon-docs';
import { Pagination } from '../src/Pagination';
import readMe from '../README.md';

<Meta
  title="Pagination"
  component={ Pagination }
  parameters={ {
    chromatic: { viewports: [640, 480] },
    description: 'Component to enable navigating a long list of results.',
    jest: ['Pagination'],
    notes: readMe
  } }
/>

# Pagination

A component for navigating a long list of results.

<Preview withToolbar>
  <Story name="Pagination">
    <Pagination>
      <div>1</div>
      <div>2</div>
      <div>3</div>
      <div>4</div>
      <div>5</div>
      <div>6</div>
      <div>7</div>
      <div>8</div>
      <div>9</div>
      <div>10</div>
      <div>11</div>
      <div>12</div>
      <div>13</div>
      <div>14</div>
      <div>15</div>
      <div>16</div>
      <div>17</div>
      <div>18</div>
      <div>19</div>
      <div>20</div>
      <div>21</div>
      <div>22</div>
      <div>23</div>
      <div>24</div>
      <div>25</div>
      <div>26</div>
      <div>27</div>
      <div>28</div>
      <div>29</div>
      <div>30</div>
    </Pagination>
  </Story>
</Preview>

<Props of={ Pagination } />

## When to use this component

Design so you don’t need pagination as it hides content from the user. It can display a lot of unhelpful information
that gets in the way to what the users are looking for. This may indicate the design isn’t working.

You can avoid pagination by:

- setting the default number of results per page (try 50 items per page, although do test with users to get it right for that service)
- avoid infinite scrolling as this is problematic for keyboard-only users

Consider what the sorting order should be to make the search more relevant. The more specific it is to the user's search criteria,
the better the search results.

## How it works
### Standard pagination

<Preview>
  <Story name="Standard">
    <Pagination>
      <div>1</div>
      <div>2</div>
      <div>3</div>
      <div>4</div>
      <div>5</div>
      <div>6</div>
      <div>7</div>
      <div>8</div>
      <div>9</div>
      <div>10</div>
      <div>11</div>
      <div>12</div>
      <div>13</div>
      <div>14</div>
      <div>15</div>
      <div>16</div>
      <div>17</div>
      <div>18</div>
      <div>19</div>
      <div>20</div>
      <div>21</div>
      <div>22</div>
      <div>23</div>
      <div>24</div>
      <div>25</div>
      <div>26</div>
      <div>27</div>
      <div>28</div>
      <div>29</div>
      <div>30</div>
    </Pagination>
  </Story>
</Preview>

### Results per page

Display a different number of results per page.

<Preview>
  <Story name="Size">
    <Pagination size={5}>
      <div>1</div>
      <div>2</div>
      <div>3</div>
      <div>4</div>
      <div>5</div>
      <div>6</div>
      <div>7</div>
      <div>8</div>
      <div>9</div>
      <div>10</div>
      <div>11</div>
      <div>12</div>
      <div>13</div>
      <div>14</div>
      <div>15</div>
      <div>16</div>
      <div>17</div>
      <div>18</div>
      <div>19</div>
      <div>20</div>
      <div>21</div>
      <div>22</div>
      <div>23</div>
      <div>24</div>
      <div>25</div>
      <div>26</div>
      <div>27</div>
      <div>28</div>
      <div>29</div>
      <div>30</div>
    </Pagination>
  </Story>
</Preview>

### Custom query parameter

Control the GET / query parameter used to set the active page with the `pageParameter` prop.

<Preview>
  <Story name="Parameter">
    <Pagination pageParameter="p">
      <div>1</div>
      <div>2</div>
      <div>3</div>
      <div>4</div>
      <div>5</div>
      <div>6</div>
      <div>7</div>
      <div>8</div>
      <div>9</div>
      <div>10</div>
      <div>11</div>
      <div>12</div>
      <div>13</div>
      <div>14</div>
      <div>15</div>
      <div>16</div>
      <div>17</div>
      <div>18</div>
      <div>19</div>
      <div>20</div>
      <div>21</div>
      <div>22</div>
      <div>23</div>
      <div>24</div>
      <div>25</div>
      <div>26</div>
      <div>27</div>
      <div>28</div>
      <div>29</div>
      <div>30</div>
    </Pagination>
  </Story>
</Preview>

## Accessibility

If you do require pagination, ensure that:
- large clickable hit areas are provided and are clearly spaced out
- the current page is clearly identified
- you set a maximum list of 5 pages
- you provide 'previous' and 'next' links. Don't rely on icons alone

## Research

If your service uses this component, let us know of any insights you have on research.

## Help improve this component

This component needs improving. We need evidence about:

- how to write for this component
- which services are using this component
- if it duplicates the [pagination component in the GOV.UK design system](https://design-system.service.gov.uk/components/pagination/)

To contribute, add your thoughts and research findings to our [GitHub discussion](https://github.com/UKHomeOffice/design-system/discussions/376), or follow our [contribute guidance](/contribute).
